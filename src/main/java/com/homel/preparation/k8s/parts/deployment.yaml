apiVersion: apps/v1 #указывает на версию API Kubernetes, которую использует этот конфигурационный файл для создания объекта типа Deployment
kind: Deployment #определяет тип объекта, который будет создан с помощью этого конфигурационного файла
metadata: #содержит метаданные объекта, такие как имя и другие атрибуты.
  name: cats-api #задает имя деплоймента
  labels: #определяет метки, которые будут присвоены подам, созданным этим деплойментом.
    app: cats-api #В данном случае, метка "app: cats-api" будет присвоена всем подам.
spec: #определяет спецификацию деплоймента.
  replicas: 3 #определяет количество реплик под, которые должны быть созданы этим деплойментом
  selector: #определяет, какие поды должны быть управляемыми этим деплойментом. В данном случае, поды с меткой "app: cats-api" будут управляемыми.
    matchLabels: #определяет метки, которые должны совпадать с метками подов, чтобы они были управляемыми этим деплойментом.
      app: cats-api #В данном случае, метка "app: cats-api" должна совпадать.
  template: #определяет шаблон для создания подов.
    metadata:
      labels:
        app: cats-api #Определяет с какой меткой запустить контейнер(см. selector)
    spec:
      containers: #определяет контейнеры, которые должны быть созданы в подах.
        - name: cats-api #задает имя контейнера
          image: jusaf/cats-api:1.1.0 #указывает образ контейнера, который должен быть использован
          ports: #определяет порты, на которых контейнер будет доступен.
            - containerPort: 8080 #определяет порт, на котором контейнер будет слушать внутри пода.
          env: #определяет переменные среды, которые будут доступны в контейнере.
            - name: DATASOURCE_HOST
              value: 192.168.0.16
            - name: spring.mvc.servlet.path
              value: /cats-api
            - name: SPRING_ADMIN
              value: http://spring-admin/spring-admin
